# 🎰 MEGA SLOT - 射幸心を煽るスロットゲーム

LINEで送信可能な高度なスロットゲームです。当選確率を自由に設定でき、結果に応じて特典コードを発行します。

## 🎮 ゲームの特徴

- **射幸心を煽るデザイン**: 金色のネオンエフェクトと派手なアニメーション
- **リアルなスロット体験**: 段階的に停止するリールアニメーション
- **確率設定機能**: ジャックポット、ビッグウィン、スモールウィンの確率を自由に調整
- **コード発行システム**: 当選時に自動的に特典コードを生成
- **統計管理**: スピン回数、勝率、コード履歴を記録
- **レスポンシブデザイン**: スマートフォンでも快適にプレイ可能

## 📁 ファイル構成

```
slot_game/
├── index.html          # メインゲーム画面
├── admin.html          # 管理画面
├── game-manager.js     # ゲームロジック管理
├── config.json         # 設定ファイル
└── README.md          # このファイル
```

## 🚀 使用方法

### 1. ローカルでの起動

```bash
# プロジェクトディレクトリに移動
cd slot_game

# HTTPサーバーを起動
python3 -m http.server 8000

# ブラウザでアクセス
# ゲーム: http://localhost:8000/index.html
# 管理画面: http://localhost:8000/admin.html
```

### 2. LINEでの使用

1. **ファイルをWebサーバーにアップロード**
   - すべてのファイルをWebサーバーにアップロード
   - HTTPSでアクセス可能にする

2. **LINEでの送信**
   - ゲームURL（index.html）をLINEで送信
   - ユーザーがタップしてゲームを開始

3. **コードの活用**
   - ユーザーが当選時に表示されるコードをコピー
   - LINEでコードを送信
   - 自動返信システムで特典を付与

## ⚙️ 管理画面の使用方法

### 確率設定
- **ジャックポット**: 全て同じ絵柄（デフォルト: 1%）
- **ビッグウィン**: 2つ同じ絵柄（デフォルト: 5%）
- **スモールウィン**: 特定の組み合わせ（デフォルト: 15%）
- **ハズレ**: 自動計算（デフォルト: 79%）

### 統計情報
- 総スピン回数
- 勝率
- 各当選タイプの回数
- 発行コード数

### コード履歴
- 生成されたすべてのコードを表示
- CSVファイルでエクスポート可能
- 履歴のクリア機能

## 🎯 当選パターンとコード

| 当選タイプ | 確率 | コードプレフィックス | 説明 |
|-----------|------|-------------------|------|
| ジャックポット | 1% | JP | 全て同じ絵柄 |
| ビッグウィン | 5% | BW | 2つ同じ絵柄 |
| スモールウィン | 15% | SW | 特定の組み合わせ |

### コード形式
```
[プレフィックス][タイムスタンプ6桁][ランダム4桁][チェックサム1桁]
例: JP123456ABCD7
```

## 🔧 カスタマイズ

### 確率の変更
1. 管理画面で直接変更
2. `config.json`ファイルを直接編集

### 絵柄の変更
`config.json`の`symbols`配列を編集:
```json
{
  "symbols": ["🍒", "🍋", "🍊", "🍇", "🔔", "⭐", "💎", "7️⃣"]
}
```

### 当選メッセージの変更
`config.json`の`winPatterns`を編集:
```json
{
  "winPatterns": {
    "jackpot": {
      "message": "🎉 JACKPOT! 🎉",
      "codePrefix": "JP"
    }
  }
}
```

## 📱 LINEでの自動返信設定例

### respond.io設定
1. **HTTPリクエストブロック**でコード検証API作成
2. **Response Mapping**でコードタイプを取得
3. **Conditionブロック**で分岐処理
4. 各当選タイプに応じた特典メッセージを送信

### コード検証の流れ
```
ユーザーがコード送信
↓
コード形式チェック
↓
データベースで重複確認
↓
特典付与 & 使用済みマーク
↓
特典内容をLINEで返信
```

## 🛡️ セキュリティ機能

- **チェックサム**: コードの改ざん防止
- **タイムスタンプ**: 生成時刻の記録
- **重複チェック**: 同一コードの再利用防止
- **統計記録**: 不正利用の監視

## 📊 統計データの活用

### 分析可能な項目
- 時間帯別のプレイ傾向
- 当選確率の実績値
- ユーザーの継続率
- コード使用率

### エクスポート機能
- CSV形式でデータ出力
- 外部分析ツールとの連携
- レポート作成の自動化

## 🎨 デザインのカスタマイズ

### CSS変数で簡単変更
```css
:root {
  --primary-color: #ffd700;    /* ゴールド */
  --secondary-color: #ff6b6b;  /* レッド */
  --background-gradient: linear-gradient(45deg, #1a1a2e, #16213e);
}
```

### アニメーション速度の調整
`config.json`の`gameSettings`:
```json
{
  "gameSettings": {
    "spinDuration": 2000,      /* スピン時間 */
    "reelStopDelay": 500,      /* リール停止間隔 */
    "animationSpeed": 20       /* アニメーション速度 */
  }
}
```

## 🚨 注意事項

1. **法的確認**: 地域の法律に従って使用してください
2. **年齢制限**: 適切な年齢制限を設けてください
3. **責任あるゲーミング**: 過度な使用を防ぐ仕組みを検討してください
4. **データ保護**: ユーザーデータの適切な管理を行ってください

## 🔄 更新履歴

### v1.0.0 (2025-06-11)
- 初回リリース
- 基本的なスロット機能
- 確率設定機能
- 管理画面
- コード発行システム
- 統計管理機能

## 📞 サポート

ご質問やカスタマイズのご相談は、開発者までお気軽にお問い合わせください。

---

**🎰 MEGA SLOT** - 射幸心を煽る究極のスロットゲーム体験をお楽しみください！

